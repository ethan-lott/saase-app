---
title: "explore"
output: html_document
---


```{r}
library(shiny)
library(ggplot2)
library(GGally)
library(tidyverse)
library(readxl)
library(bslib)
```
```{r}
l <- list(Sociality = c("Q4_1","Q15_2","Q15_4","Q15_5"))
l$Sociality
```

```{r}
ors_raw <- read_excel("SAASE/data/or_survey_sim_final_2023-11-29.xlsx")
pde_raw <- read_excel("SAASE/data/pde_sim_final_2023-11-29.xlsx")
```

```{r}
response_map <- c(
    "Strongly agree" = 1,
    "Somewhat agree" = 2,
    "Neither agree nor disagree" = 3,
    "Somewhat disagree" = 4,
    "Strongly disagree" = 5,
    "Very much like me" = 1,
    "Mostly like me" = 2,
    "Somewhat like me" = 3,
    "Not much like me" = 4,
    "Not at all like me" = 5
)
```

```{r}
ors_qs <- c(
  "Q4_1" = "I feel I belong at Binghamton University.",
  "Q4_2" = "I am ready to meet the academic challenges of Binghamton University.",
  "Q11_1" = "Binghamton University is concerned with my personal health/wellness.",
  "Q11_2" = "Binghamton University has a number of services available to help me be healthy at college.",
  "Q15_1" = "I feel like I have the resources to make me a financially responsible college student.",
  "Q15_2" = "I feel connected to the Binghamton University community.",
  "Q15_3" = "Binghamton University is a place where I am able to perform up to my full potential.",
  "Q15_4" = "I have found one or more communities or groups where I feel I belong at Binghamton University.",
  "Q15_5" = "I am ready to make friends at Binghamton University.",
  "Grit_1" = "New ideas and projects sometimes distract me from previous ones.",
  "Grit_2" = "Setbacks donâ€™t discourage me.",
  "Grit_3" = "I have been obsessed with a certain idea or project for a short time but later lost interest.",
  "Grit_4" = "I am a hard worker.",
  "Grit_5" = "I often set a goal but later choose to pursue a different one.",
  "Grit_6" = "I have difficulty maintaining my focus on projects that take more than a few months to complete.",
  "Grit_7" = "I finish whatever I begin.",
  "Grit_8" = "I am diligent."
)
```

```{r}
ors_num <- ors_raw
ors_num[-1] <- ors_num[-1] |>
    mutate(across(everything(), ~ recode(.x, !!!response_map)))

ors_pde_raw <- merge(ors_raw, pde_raw)
ors_pde_num <- merge(ors_num, pde_raw) |>
  mutate(
    ID = as.numeric(gsub("MASK", "", XID)),
    .keep="unused",
    .before=1)
```

```{r}
ggpairs(
    ors_num,
    columns = 11:14
)
```

